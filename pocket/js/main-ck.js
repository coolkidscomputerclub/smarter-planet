var main={init:function(){console.log("Main initialised.");this.connectSocket()},connectSocket:function(){console.log("Socket connected.");this.socket=io.connect("//"+config.socketServer+":8080");this.bindSocketEvents()},bindSocketEvents:function(){var e=$("#events");console.log("Socket events bound.");this.socket.on("message",function(e){console.log("Message: ",e)});this.socket.on("presence",function(e){console.log("Presence: ",e.user.presence);var t=$("#presence-event-template").html(),n=Handlebars.compile(t);$("#timeline ul").append(n(e))});this.socket.on("users",function(e){console.log("Users",e);var t=$("#family-template").html(),n=Handlebars.compile(t);$("#user-select").html(n(e));window.userSelector=new Swipe(document.getElementById("user-select"))})}};$(function(){main.init()});